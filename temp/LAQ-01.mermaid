sequenceDiagram
    participant T1 as Transaction 1
    participant LockMgr as Lock Manager
    participant Row as Data Row
    
    Note over T1,Row: Without LAQ
    T1->>LockMgr: Request U-lock
    activate LockMgr
    LockMgr->>Row: Acquire U-lock
    activate Row
    Note over Row: Predicate Evaluation<br/>while holding U-lock
    alt Predicate Satisfied
        LockMgr->>Row: Upgrade to X-lock
        T1->>Row: Modify Data
        T1->>LockMgr: Commit
        LockMgr->>Row: Release X-lock
    else Predicate Not Satisfied
        LockMgr->>Row: Release U-lock
    end
    deactivate Row
    deactivate LockMgr
    
